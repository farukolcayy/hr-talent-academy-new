<!DOCTYPE html>
<html lang="tr">

<head>
  <title>Admin Paneli</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!--===============================================================================================-->

  <link href="/assets/img/favicon_new.png" rel="icon">

  <!--===============================================================================================-->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  <!--===============================================================================================-->
  <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css" />
  <!--===============================================================================================-->
  <link rel="stylesheet" type="text/css" href="vendor/animate/animate.css" />
  <!--===============================================================================================-->
  <link rel="stylesheet" type="text/css" href="vendor/css-hamburgers/hamburgers.min.css" />
  <!--===============================================================================================-->
  <link rel="stylesheet" type="text/css" href="vendor/animsition/css/animsition.min.css" />
  <!--===============================================================================================-->
  <link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css" />
  <!--===============================================================================================-->
  <link rel="stylesheet" type="text/css" href="vendor/daterangepicker/daterangepicker.css" />
  <!--===============================================================================================-->
  <link rel="stylesheet" type="text/css" href="css/util.css" />

  <link rel="stylesheet" type="text/css" href="css/main.css" />


  <!--===============================================================================================-->
</head>

<style>
  .tabLi a.nav-link {
    margin: 10px;
    border-radius: 16px;
    padding: 22px;
    background: #999;
    color: white;
    font-weight: bold;
  }

  .tabLi a.nav-link.active {
    background: #970101;
    color: white;
  }

  .nav-tabs {
    border-bottom: 0px solid #dee2e6;
  }
</style>

<body>
  <div id="ftco-loader" class="show fullscreen">
    <svg class="circular" width="48px" height="48px">
      <circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee" />
      <circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10"
        stroke="#F96D00" />
    </svg>
  </div>

  <ul class="nav nav-tabs tabLi" style="justify-content: center;padding: 18px;background: black;">
    <li class="nav-item">
      <a class="nav-link active" data-toggle="tab" href="#tab-1">Canlı Yayın Güncelle</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-toggle="tab" href="#tab-2">Sınav Soru Ekle</a>
    </li>
  </ul>



  <div class="container-contact100">

    <div class="tab-content tabContainer">
      <div id="tab-1" class="container tab-pane active">
        <div class="container-contact100">
          <div class="wrap-contact100">
            <form class="contact100-form validate-form" id="streamForm">
              <span class="contact100-form-title" style="font-size: 30px">
                Akademi Bilgileri
              </span>
              <!-- <div class="wrap-input100 input100-select">
                <span class="label-input100"></span>
                <div>
                  <select class="selection-2" name="streamSelect">
                    <option value="1">İNSAN KAYNAKLARI</option>
                    <option value="2">ENDÜSTRI 4.0</option>
                    <option value="3">BIG DATA</option>
                    <option value="4">SATIŞ PAZARLAMA</option>
                    <option value="5">GIRIŞIMCILIK</option>
                    <option value="6">TEST YAYIN</option>
                    <option value="7">ÖNİZLEME</option>
                  </select>
                </div>
                <span class="focus-input100"></span>
              </div> -->

              <div class="wrap-input100 validate-input">
                <span class="label-input100"></span>
                <textarea class="input100" name="streamLink" placeholder="Vimeo Link" required></textarea>
                <span class="focus-input100"></span>
              </div>

              <span class="contact100-form-title" style="font-size: 30px">
                Eğitmen
              </span>

              <div class="wrap-input100 input100-select">
                <span class="label-input100"></span>
                <div>
                  <select class="selection-2" id="instructorSelect" name="instructorSelect"></select>
                </div>
                <span class="focus-input100"></span>
              </div>
              <div class="container-contact100-form-btn">
                <div class="wrap-contact100-form-btn">
                  <div class="contact100-form-bgbtn"></div>
                  <button class="contact100-form-btn" type="submit">
                    <span>
                      Güncelle
                      <i class="fa fa-long-arrow-right m-l-7" aria-hidden="true"></i>
                    </span>
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>

      <div id="tab-2" class="container tab-pane"><br>
        <div class="wrap-contact100">
          <form class="contact100-form validate-form" id="questionForm">
            <span class="contact100-form-title" style="font-size: 30px">
              HTA Soru Girme Paneli
            </span>

            <div class="wrap-input100 validate-input" data-validate="Message is required">
              <span class="label-input100"></span>
              <textarea required class="input100" name="question" id="question" placeholder="Soru"></textarea>
              <span class="focus-input100"></span>
            </div>

            <div class="wrap-input100 validate-input" data-validate="Name is required">
              <span class="label-input100"></span>
              <input required class="input100" type="text" id="questionOption1" name="questionOption1"
                placeholder="A)" />
              <span class="focus-input100"></span>
            </div>

            <div class="wrap-input100 validate-input" data-validate="Valid email is required: ex@abc.xyz">
              <span class="label-input100"></span>
              <input required class="input100" type="text" id="questionOption2" name="questionOption2"
                placeholder="B)" />
              <span class="focus-input100"></span>
            </div>

            <div class="wrap-input100 validate-input" data-validate="Name is required">
              <span class="label-input100"></span>
              <input required class="input100" type="text" id="questionOption3" name="questionOption3"
                placeholder="C)" />
              <span class="focus-input100"></span>
            </div>

            <div class="wrap-input100 validate-input" data-validate="Name is required">
              <span class="label-input100"></span>
              <input required class="input100" type="text" id="questionOption4" name="questionOption4"
                placeholder="D)" />
              <span class="focus-input100"></span>
            </div>

            <div class="row">
              <div class="col-md-12">
                <span class="contact100-form-title" style="font-size: 20px">
                  DOĞRU ŞIK
                </span>
              </div>
            </div>
            <div class="row">
              <div class="col-md-3">
                <span style="color: #fff; font-size: 25px">A)</span>
                <input checked style="width: 25px; height: 25px; padding-top: 5px" value="0" class="" type="radio"
                  name="answer" placeholder="" />
              </div>
              <div class="col-md-3">
                <span style="color: #fff; font-size: 25px">B)</span>
                <input style="width: 25px; height: 25px; padding-top: 5px" value="1" class="" type="radio" name="answer"
                  placeholder="" />
              </div>
              <div class="col-md-3">
                <span style="color: #fff; font-size: 25px">C)</span>
                <input style="width: 25px; height: 25px; padding-top: 5px" value="2" class="" type="radio" name="answer"
                  placeholder="" />
              </div>
              <div class="col-md-3">
                <span style="color: #fff; font-size: 25px">D)</span>
                <input style="width: 25px; height: 25px; padding-top: 5px" value="3" class="" type="radio" name="answer"
                  placeholder="" />
              </div>
            </div>

            <div class="container-contact100-form-btn">
              <div class="wrap-contact100-form-btn">
                <div class="contact100-form-bgbtn"></div>
                <button class="contact100-form-btn" type="submit">
                  <span>
                    Gönder
                    <i class="fa fa-long-arrow-right m-l-7" aria-hidden="true"></i>
                  </span>
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>

    </div>

  </div>

  <div id="dropDownSelect1"></div>

  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <!--===============================================================================================-->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <!--===============================================================================================-->
  <script src="vendor/animsition/js/animsition.min.js"></script>
  <!--===============================================================================================-->
  <script src="vendor/bootstrap/js/popper.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/js/bootstrap.min.js"
    integrity="sha384-5h4UG+6GOuV9qXh6HqOLwZMY4mnLPraeTrjT5v07o347pj6IkfuoASuGBhfDsp3d"
    crossorigin="anonymous"></script>
  <!--===============================================================================================-->
  <script src="vendor/select2/select2.min.js"></script>
  <script>
    $(".selection-2").select2({
      minimumResultsForSearch: 20,
      dropdownParent: $("#dropDownSelect1"),
    });
  </script>
  <!--===============================================================================================-->
  <script src="vendor/daterangepicker/moment.min.js"></script>
  <script src="vendor/daterangepicker/daterangepicker.js"></script>
  <!--===============================================================================================-->
  <script src="vendor/countdowntime/countdowntime.js"></script>



  <!--===============================================================================================-->

  <script>
    $(document).ready(function () {
      setTimeout(function () {
        $("#ftco-loader").removeClass("show");
      }, 2000);

      $.ajax({
        type: "GET",
        dataType: "json",
        url: "getInstructor.php",
      })
        .done(function (data) {
          $.each(data.result, function (i, item) {
            $("#instructorSelect").append(
              $("<option>", {
                value: item[0],
                text: item[2],
              })
            );
          });
        })
        .fail(function (xhr, textStatus, errorThrown) {
          swal("Hata", "Bağlantı Hatası! Eğitmen Bilgileri Getirilemedi", "error");

        });


      $("#questionForm").submit(function (e) {

        var values = $(this).serialize();

        var _question = $("#question").val().replaceAll("'", "`").trim();

        var _questionOption1 = $("#questionOption1").val().replaceAll("'", "`").trim();
        var _questionOption2 = $("#questionOption2").val().replaceAll("'", "`").trim();
        var _questionOption3 = $("#questionOption3").val().replaceAll("'", "`").trim();
        var _questionOption4 = $("#questionOption4").val().replaceAll("'", "`").trim();

        var _questionAnswer = $("input[name='answer']:checked").val();

        var _questionOptions = '["';
        _questionOptions += _questionOption1 + '","';
        _questionOptions += _questionOption2 + '","';
        _questionOptions += _questionOption3 + '","';
        _questionOptions += _questionOption4 + '"]';

        values += "&_question=" + encodeURIComponent(_question);
        values += "&_questionOptions=" + encodeURIComponent(_questionOptions);
        values += "&_questionAnswer=" + encodeURIComponent(_questionAnswer);


        $.ajax({
          type: "POST",
          url: "postQuestion.php",
          data: values,
        })
          .done(function (data) {
            if ($.trim(data) === "Bilgiler Güncellendi") {
              swal("Başarılı", "Soru Kaydedildi", "success");
              $("#questionForm")[0].reset();
            } else if ($.trim(data) === "Bilgiler güncellenemedi!") {
              swal("Hata", "Sorunuz Kaydedilemedi!", "warning");
            } else {
              swal("Hata", "Bağlantı Başarısız!", "error");
            }
          })
          .fail(function (e) {
            console.log(e);
            swal("Hata", "Soru Kayıt başarısız!", "error");

          });
        return false;
      });

      $("#streamForm").submit(function (e) {

        e.stopPropagation();
        e.stopImmediatePropagation();

        var formData = $(this).serializeArray();
        if (
          formData[0].value === null ||
          formData[0].value === "" ||
          formData[0].value === undefined ||
          formData[1].value === null ||
          formData[1].value === "" ||
          formData[1].value === undefined
        ) {
          swal("Hata", "Tüm alanlar doldurulmalı!", "warning");

          return false;
        } else {
          $.ajax({
            type: "POST",
            async: false,
            url: "updateStreamInfo.php",
            data: $(this).serialize(),
          })
            .done(function (data) {
                console.log(data);
              if ($.trim(data) === "Bilgiler Güncellendi") {
                swal("Başarılı", data, "success");
                $("#streamForm")[0].reset();

              } else {
                swal("Uyarı", data, "warning");
              }
            })
            .fail(function (xhr, textStatus, errorThrown) {
              swal("Hata", "Bağlantı Hatası", "error");

            });
        }

        return false;
      });
    });

  </script>
</body>

</html>